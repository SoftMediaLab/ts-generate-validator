// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`codegen/raw/common create validators: generated validators at "generated/validators/model.ts" 1`] = `
"import {
  GeneratedValidation,
  GeneratedValidationPayload,
  UserContext,
  initConfig,
  getConfig,
  mergeDeep,
  typeValidator,
  customValidator,
  equalValidator,
  equalToValidator
} from 'ts-generate-validator';

import {
  TypeValidatorWithCustomMessage,
  TypeValidatorOnWrongPropertyType,
  CustomValidatorFailed,
  CutomValidatorSuccess,
  CutomValidatorSuccessAsync,
  IgnoreValidationForNonPrimitiveProperty,
  IgnoreValidationForPrimitiveProperty,
  IgnoreValidationForPrimitivePropertyWithOtherDecorators,
  EqualValidatorWithDefaultMessage,
  EqualValidatorWithCustomMessage,
  EqualValidatorForBoolean,
  EqualToValidatorWithDefaultMessage
} from './../../model';

import { customValidatorFailedValidator } from './model';

import * as configFromFile from './../../ts-generate-validator-config.json';

initConfig(configFromFile);

export const typeValidatorWithCustomMessageValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof TypeValidatorWithCustomMessage, UserContext>
) => {
  const config = mergeDeep({}, getConfig(), payload.config);

  typeValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    customMessage: 'type custom message',

    type: 'string'
  });
};

export const typeValidatorOnWrongPropertyTypeValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof TypeValidatorOnWrongPropertyType, UserContext>
) => {
  const config = mergeDeep({}, getConfig(), payload.config);

  typeValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    customMessage: 'type custom message',

    typeDescription: customValidatorFailedValidator,

    type: 'nested'
  });
};

export const customValidatorFailedValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof CustomValidatorFailed, UserContext>
) => {
  const config = mergeDeep({}, getConfig(), payload.config);

  typeValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    type: 'number'
  });

  customValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    customValidationFunction: () => {
      throw new Error('Failed!');
    }
  });
};

export const cutomValidatorSuccessValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof CutomValidatorSuccess, UserContext>
) => {
  const config = mergeDeep({}, getConfig(), payload.config);

  typeValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    type: 'number'
  });

  customValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    customValidationFunction: () => undefined
  });
};

export const cutomValidatorSuccessAsyncValidator: GeneratedValidation = async (
  payload: GeneratedValidationPayload<typeof CutomValidatorSuccessAsync, UserContext>
) => {
  const config = mergeDeep({}, getConfig(), payload.config);

  typeValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    type: 'number'
  });

  customValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    customValidationFunction: async (): Promise<void> => new Promise((resolve) => setTimeout(() => resolve(), 300))
  });
};

export const ignoreValidationForNonPrimitivePropertyValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof IgnoreValidationForNonPrimitiveProperty, UserContext>
) => {
  // eslint-disable-next-line
  const config = mergeDeep({}, getConfig(), payload.config);
};

export const ignoreValidationForPrimitivePropertyValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof IgnoreValidationForPrimitiveProperty, UserContext>
) => {
  // eslint-disable-next-line
  const config = mergeDeep({}, getConfig(), payload.config);
};

export const ignoreValidationForPrimitivePropertyWithOtherDecoratorsValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof IgnoreValidationForPrimitivePropertyWithOtherDecorators, UserContext>
) => {
  // eslint-disable-next-line
  const config = mergeDeep({}, getConfig(), payload.config);
};

export const equalValidatorWithDefaultMessageValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof EqualValidatorWithDefaultMessage, UserContext>
) => {
  const config = mergeDeep({}, getConfig(), payload.config);

  typeValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    type: 'string'
  });

  equalValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    value: 'abcdef'
  });
};

export const equalValidatorWithCustomMessageValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof EqualValidatorWithCustomMessage, UserContext>
) => {
  const config = mergeDeep({}, getConfig(), payload.config);

  typeValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    type: 'number'
  });

  equalValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    value: 245,

    customMessage: 'equal custom message'
  });
};

export const equalValidatorForBooleanValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof EqualValidatorForBoolean, UserContext>
) => {
  const config = mergeDeep({}, getConfig(), payload.config);

  typeValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    type: 'boolean'
  });

  equalValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    value: true
  });
};

export const equalToValidatorWithDefaultMessageValidator: GeneratedValidation = (
  payload: GeneratedValidationPayload<typeof EqualToValidatorWithDefaultMessage, UserContext>
) => {
  const config = mergeDeep({}, getConfig(), payload.config);

  typeValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    type: 'string'
  });

  equalToValidator({
    property: payload.data.someProperty,
    propertyName: 'someProperty',
    data: payload.data,
    config,

    targetPropertyName: 'someOtherProperty'
  });

  typeValidator({
    property: payload.data.someOtherProperty,
    propertyName: 'someOtherProperty',
    data: payload.data,
    config,

    type: 'string'
  });

  equalToValidator({
    property: payload.data.someOtherProperty,
    propertyName: 'someOtherProperty',
    data: payload.data,
    config,

    targetPropertyName: 'someProperty'
  });
};
"
`;

exports[`codegen/raw/common parse & prepare: data for render 1`] = `
Array [
  Object {
    "configFilePath": "./../../ts-generate-validator-config.json",
    "fileName": "model.ts",
    "filePath": "E:\\\\PROJECTS\\\\ts-generate-validator\\\\test\\\\mock\\\\raw\\\\common\\\\generated\\\\validators",
    "imports": Array [
      Object {
        "clauses": "GeneratedValidation, GeneratedValidationPayload, UserContext, initConfig, getConfig, mergeDeep, typeValidator, customValidator, equalValidator, equalToValidator",
        "path": "ts-generate-validator",
      },
      Object {
        "clauses": "TypeValidatorWithCustomMessage, TypeValidatorOnWrongPropertyType, CustomValidatorFailed, CutomValidatorSuccess, CutomValidatorSuccessAsync, IgnoreValidationForNonPrimitiveProperty, IgnoreValidationForPrimitiveProperty, IgnoreValidationForPrimitivePropertyWithOtherDecorators, EqualValidatorWithDefaultMessage, EqualValidatorWithCustomMessage, EqualValidatorForBoolean, EqualToValidatorWithDefaultMessage",
        "path": "./../../model",
      },
      Object {
        "clauses": "customValidatorFailedValidator",
        "path": "./model",
      },
    ],
    "validationArgs": Object {
      "config": "config",
      "data": "data",
    },
    "validations": Array [
      Object {
        "async": false,
        "items": Array [
          Object {
            "propertyName": "someProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "customMessage",
                "type": "string",
                "value": "type custom message",
              },
              Object {
                "property": "type",
                "type": "string",
                "value": "string",
              },
            ],
          },
        ],
        "modelClassName": "TypeValidatorWithCustomMessage",
        "name": "typeValidatorWithCustomMessageValidator",
      },
      Object {
        "async": false,
        "items": Array [
          Object {
            "propertyName": "someProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "customMessage",
                "type": "string",
                "value": "type custom message",
              },
              Object {
                "property": "typeDescription",
                "type": "object",
                "value": "customValidatorFailedValidator",
              },
              Object {
                "property": "type",
                "type": "string",
                "value": "nested",
              },
            ],
          },
        ],
        "modelClassName": "TypeValidatorOnWrongPropertyType",
        "name": "typeValidatorOnWrongPropertyTypeValidator",
      },
      Object {
        "async": false,
        "items": Array [
          Object {
            "propertyName": "someProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "type",
                "type": "string",
                "value": "number",
              },
            ],
          },
          Object {
            "propertyName": "someProperty",
            "validatorName": "customValidator",
            "validatorPayload": Array [
              Object {
                "property": "customValidationFunction",
                "type": "",
                "value": "() => {
    throw new Error('Failed!');
  }",
              },
            ],
          },
        ],
        "modelClassName": "CustomValidatorFailed",
        "name": "customValidatorFailedValidator",
      },
      Object {
        "async": false,
        "items": Array [
          Object {
            "propertyName": "someProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "type",
                "type": "string",
                "value": "number",
              },
            ],
          },
          Object {
            "propertyName": "someProperty",
            "validatorName": "customValidator",
            "validatorPayload": Array [
              Object {
                "property": "customValidationFunction",
                "type": "",
                "value": "() => undefined",
              },
            ],
          },
        ],
        "modelClassName": "CutomValidatorSuccess",
        "name": "cutomValidatorSuccessValidator",
      },
      Object {
        "async": true,
        "items": Array [
          Object {
            "propertyName": "someProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "type",
                "type": "string",
                "value": "number",
              },
            ],
          },
          Object {
            "propertyName": "someProperty",
            "validatorName": "customValidator",
            "validatorPayload": Array [
              Object {
                "property": "customValidationFunction",
                "type": "",
                "value": "async (): Promise<void> => new Promise((resolve) => setTimeout(() => resolve(), 300))",
              },
            ],
          },
        ],
        "modelClassName": "CutomValidatorSuccessAsync",
        "name": "cutomValidatorSuccessAsyncValidator",
      },
      Object {
        "async": false,
        "items": Array [],
        "modelClassName": "IgnoreValidationForNonPrimitiveProperty",
        "name": "ignoreValidationForNonPrimitivePropertyValidator",
      },
      Object {
        "async": false,
        "items": Array [],
        "modelClassName": "IgnoreValidationForPrimitiveProperty",
        "name": "ignoreValidationForPrimitivePropertyValidator",
      },
      Object {
        "async": false,
        "items": Array [],
        "modelClassName": "IgnoreValidationForPrimitivePropertyWithOtherDecorators",
        "name": "ignoreValidationForPrimitivePropertyWithOtherDecoratorsValidator",
      },
      Object {
        "async": false,
        "items": Array [
          Object {
            "propertyName": "someProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "type",
                "type": "string",
                "value": "string",
              },
            ],
          },
          Object {
            "propertyName": "someProperty",
            "validatorName": "equalValidator",
            "validatorPayload": Array [
              Object {
                "property": "value",
                "type": "string",
                "value": "abcdef",
              },
            ],
          },
        ],
        "modelClassName": "EqualValidatorWithDefaultMessage",
        "name": "equalValidatorWithDefaultMessageValidator",
      },
      Object {
        "async": false,
        "items": Array [
          Object {
            "propertyName": "someProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "type",
                "type": "string",
                "value": "number",
              },
            ],
          },
          Object {
            "propertyName": "someProperty",
            "validatorName": "equalValidator",
            "validatorPayload": Array [
              Object {
                "property": "value",
                "type": "number",
                "value": "245",
              },
              Object {
                "property": "customMessage",
                "type": "string",
                "value": "equal custom message",
              },
            ],
          },
        ],
        "modelClassName": "EqualValidatorWithCustomMessage",
        "name": "equalValidatorWithCustomMessageValidator",
      },
      Object {
        "async": false,
        "items": Array [
          Object {
            "propertyName": "someProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "type",
                "type": "string",
                "value": "boolean",
              },
            ],
          },
          Object {
            "propertyName": "someProperty",
            "validatorName": "equalValidator",
            "validatorPayload": Array [
              Object {
                "property": "value",
                "type": "boolean",
                "value": "true",
              },
            ],
          },
        ],
        "modelClassName": "EqualValidatorForBoolean",
        "name": "equalValidatorForBooleanValidator",
      },
      Object {
        "async": false,
        "items": Array [
          Object {
            "propertyName": "someProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "type",
                "type": "string",
                "value": "string",
              },
            ],
          },
          Object {
            "propertyName": "someProperty",
            "validatorName": "equalToValidator",
            "validatorPayload": Array [
              Object {
                "property": "targetPropertyName",
                "type": "string",
                "value": "someOtherProperty",
              },
            ],
          },
          Object {
            "propertyName": "someOtherProperty",
            "validatorName": "typeValidator",
            "validatorPayload": Array [
              Object {
                "property": "type",
                "type": "string",
                "value": "string",
              },
            ],
          },
          Object {
            "propertyName": "someOtherProperty",
            "validatorName": "equalToValidator",
            "validatorPayload": Array [
              Object {
                "property": "targetPropertyName",
                "type": "string",
                "value": "someProperty",
              },
            ],
          },
        ],
        "modelClassName": "EqualToValidatorWithDefaultMessage",
        "name": "equalToValidatorWithDefaultMessageValidator",
      },
    ],
  },
]
`;

exports[`codegen/raw/common parse & prepare: parsed metadata 1`] = `
Array [
  Object {
    "classes": Array [
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  "type custom message",
                ],
                "name": "TypeValidation",
              },
            ],
            "name": "someProperty",
            "optional": false,
            "type": Object {
              "name": "string",
              "validationType": "string",
            },
          },
        ],
        "name": "TypeValidatorWithCustomMessage",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  "type custom message",
                ],
                "name": "TypeValidation",
              },
            ],
            "name": "someProperty",
            "optional": true,
            "type": Object {
              "name": "CustomValidatorFailed",
              "referencePath": "model.ts",
              "validationType": "nested",
            },
          },
        ],
        "name": "TypeValidatorOnWrongPropertyType",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  "() => {
    throw new Error('Failed!');
  }",
                ],
                "name": "CustomValidation",
              },
            ],
            "name": "someProperty",
            "optional": true,
            "type": Object {
              "name": "number",
              "validationType": "number",
            },
          },
        ],
        "name": "CustomValidatorFailed",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  "() => undefined",
                ],
                "name": "CustomValidation",
              },
            ],
            "name": "someProperty",
            "optional": true,
            "type": Object {
              "name": "number",
              "validationType": "number",
            },
          },
        ],
        "name": "CutomValidatorSuccess",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  "async (): Promise<void> => new Promise((resolve) => setTimeout(() => resolve(), 300))",
                ],
                "name": "CustomValidation",
              },
            ],
            "name": "someProperty",
            "optional": true,
            "type": Object {
              "name": "number",
              "validationType": "number",
            },
          },
        ],
        "name": "CutomValidatorSuccessAsync",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [],
                "name": "IgnoreValidation",
              },
            ],
            "name": "someProperty",
            "optional": true,
            "type": Object {
              "name": "number",
              "validationType": "number",
            },
          },
        ],
        "name": "IgnoreValidationForNonPrimitiveProperty",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [],
                "name": "IgnoreValidation",
              },
            ],
            "name": "someProperty",
            "optional": false,
            "type": Object {
              "name": "number",
              "validationType": "number",
            },
          },
        ],
        "name": "IgnoreValidationForPrimitiveProperty",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  10,
                ],
                "name": "MaxValidation",
              },
              Object {
                "arguments": Array [],
                "name": "IgnoreValidation",
              },
              Object {
                "arguments": Array [
                  2,
                ],
                "name": "MinValidation",
              },
            ],
            "name": "someProperty",
            "optional": false,
            "type": Object {
              "name": "number",
              "validationType": "number",
            },
          },
        ],
        "name": "IgnoreValidationForPrimitivePropertyWithOtherDecorators",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  "abcdef",
                ],
                "name": "EqualValidation",
              },
            ],
            "name": "someProperty",
            "optional": false,
            "type": Object {
              "name": "string",
              "validationType": "string",
            },
          },
        ],
        "name": "EqualValidatorWithDefaultMessage",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  245,
                  "equal custom message",
                ],
                "name": "EqualValidation",
              },
            ],
            "name": "someProperty",
            "optional": false,
            "type": Object {
              "name": "number",
              "validationType": "number",
            },
          },
        ],
        "name": "EqualValidatorWithCustomMessage",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  true,
                ],
                "name": "EqualValidation",
              },
            ],
            "name": "someProperty",
            "optional": false,
            "type": Object {
              "name": "boolean",
              "validationType": "boolean",
            },
          },
        ],
        "name": "EqualValidatorForBoolean",
      },
      Object {
        "decorators": Array [
          Object {
            "arguments": Array [],
            "name": "Validation",
          },
        ],
        "fields": Array [
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  "someOtherProperty",
                ],
                "name": "EqualToValidation",
              },
            ],
            "name": "someProperty",
            "optional": false,
            "type": Object {
              "name": "string",
              "validationType": "string",
            },
          },
          Object {
            "decorators": Array [
              Object {
                "arguments": Array [
                  "someProperty",
                ],
                "name": "EqualToValidation",
              },
            ],
            "name": "someOtherProperty",
            "optional": false,
            "type": Object {
              "name": "string",
              "validationType": "string",
            },
          },
        ],
        "name": "EqualToValidatorWithDefaultMessage",
      },
    ],
    "name": "model.ts",
  },
]
`;
